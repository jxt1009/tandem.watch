window.__tandem_netflix={getPlayer:function(){try{const t=window.netflix.appContext.state.playerApp.getAPI().videoPlayer,e=t.getAllPlayerSessionIds(),n=e&&e.length?e[e.length-1]:null;return n?t.getVideoPlayerBySessionId(n):null}catch(t){return console.warn("Failed to get Netflix player:",t),null}},play:function(){const t=this.getPlayer();t&&t.play()},pause:function(){const t=this.getPlayer();t&&t.pause()},seek:function(t){const e=this.getPlayer();e&&e.seek(t)},getCurrentTime:function(){const t=this.getPlayer();return t?t.getCurrentTime():null},isPaused:function(){const t=this.getPlayer();return!t||t.isPaused()},setVolume:function(t){const e=this.getPlayer();return!!e&&(e.setVolume(t),!0)},getVolume:function(){const t=this.getPlayer();return t?t.getVolume():1},getDuration:function(){const t=this.getPlayer();try{if(t&&t.getDuration)return t.getDuration()}catch(t){console.warn("Failed to get duration:",t)}return null},getPlayerState:function(){const t=this.getPlayer();try{if(!t)return null;const e=t.getCurrentTime(),n=t.getDuration?t.getDuration():null;return{currentTime:e,duration:n,isPaused:t.isPaused(),justEnded:n&&e&&Math.abs(n-e)<500||!1}}catch(t){return console.warn("Failed to get player state:",t),null}}},document.addEventListener("__tandem_command",function(t){const{command:e,args:n}=t.detail;if(window.__tandem_netflix[e]){const t=window.__tandem_netflix[e].apply(window.__tandem_netflix,n||[]);document.dispatchEvent(new CustomEvent("__tandem_response",{detail:{command:e,result:t}}))}});